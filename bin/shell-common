#!/bin/bash

#######################################################################
# Shell very strict mode
# http://redsymbol.net/articles/unofficial-bash-strict-mode/
#######################################################################

set -e

#######################################################################
# Load environment variables
#######################################################################

for file in ${HOME}/.{env,env.local}; do
  # shellcheck source=../.env
  [ -r "$file" ] && [ -f "$file" ] && source "$file"
done
unset file

#######################################################################
# Load source files
#######################################################################

#if [ ! -d "$SHELL_BIN" ]; then
#  printf "\033[0;31m[error]\033[0m: %s\\n" "Error: The current working directory doesn't exist, cannot proceed."
#  exit 1
#fi

# shellcheck source=./shell-colors
source "${SHELL_BIN}/shell-colors"

# shellcheck source=./shell-logger
source "${SHELL_BIN}/shell-logger"

#######################################################################
# Check environment variables
#######################################################################

if [ -z $SHELL_DEBUG ]; then
  error_exit "An error occurred, the value of the variable SHELL_DEBUG was not loaded!"
fi

if [ -z $SHELL_BIN ]; then
  error_exit "An error occurred, the value of the variable SHELL_BIN was not loaded!"
fi

#######################################################################
# Check system required dependencies
#######################################################################

#declare -a commands=()
#
#commands=(
#  docker
#  docker-compose
#  git
#  make
#  gpg
#  mkcert
#  openssl
#  shellcheck
#  tree
#  dotenv-linter
#  hadolint
#)

#for command in "${commands[@]}"; do
#  if ! command -v "$command" >/dev/null 2>/dev/null; then
#    log_warn "${command} is not installed."
#  fi
#done

#######################################################################
# Private functions
#######################################################################

#readonly date_time=$(date +"%Y/%m/%d %H:%M:%S")
#readonly utc_date_time=$(date -u +"%Y/%m/%dT%H:%M:%SZ")

#######################################################################
# Initialization
#######################################################################

#...
